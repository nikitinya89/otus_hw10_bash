# Otus Homework 10. Bash
### Цель домашнего задания
Написать скрипт на языке Bash
### Описание домашнего задания
Написать скрипт для CRON, который раз в час будет формировать письмо и отправлять на заданную почту.  
  
Необходимая информация в письме:
- Список IP адресов (с наибольшим кол-вом запросов) с указанием кол-ва запросов c момента последнего запуска скрипта;
- Список запрашиваемых URL (с наибольшим кол-вом запросов) с указанием кол-ва запросов c момента последнего запуска скрипта;
- Ошибки веб-сервера/приложения c момента последнего запуска;
- Список всех кодов HTTP ответа с указанием их кол-ва с момента последнего запуска скрипта.
- Скрипт должен предотвращать одновременный запуск нескольких копий, до его завершения.
  
В письме должен быть прописан обрабатываемый временной диапазон.

## Выволнение
**nginx_report.sh** - скрипт, обрабатывающий лог nginx, формирующий и отправляющий письмо.  
> *$mailbox* - email адрес получателя.  В скрипте используется временный почтовый ящик *10 Minute Mailbox*. Для проверки замените на актуальный.  
> *$log_path* - путь к лог файлу nginx. По умолчанию - */var/log/nginx/access.log*

Добавление в CRON осуществляется с помощью *shell* скрипта в *Vagrantfile*. Скрипт размещается в каталоге */opt/*

В результате работы скрипта на указанный почтовый ящик отправляется письмо вида:

```
Обрабатываемый период:
От 19 April 2024 13:36 до 19 April 2024 13:37

Список IP-адресов с максимальным числом запросов:

IP-адрес: "182.254.243.249" Количество: 2
IP-адрес: "66.249.64.204" Количество: 1


Список наиболее запрашиваемых URL:

URL: "/" Количество: 2
URL: "/webdav/" Количество: 1


Ошибки веб-сервера/клиента:

IP-адрес: "182.254.243.249" URL: "/" HTTP код ошибки: "405"
IP-адрес: "182.254.243.249" URL: "/webdav/" HTTP код ошибки: "404"


Список всех кодов HTTP ответа:

HTTP код: "405" Количество: 1
HTTP код: "404" Количество: 1
HTTP код: "200" Количество: 1
```
